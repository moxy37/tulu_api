<!DOCTYPE html>

<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>WebcamJS Test Page</title>
    <style type="text/css">
      body {
        font-family: Helvetica, sans-serif;
      }

      h2,
      h3 {
        margin-top: 0;
      }

      form {
        margin-top: 15px;
      }

      form > input {
        margin-right: 15px;
      }

      #results {
        float: left;
        margin: 40px;
        padding: 20px;
        border: 1px solid;
        background: #ccc;
      }
    </style>
  </head>

  <body>
    <h1>Camera Test</h1>

    <form action="/api/file/upload" id="myform">
      <label for="capture">Captuer Image From Phone</label>
      <input type="file" id="capture" accept="image/*" capture />

      <br />

      <input type="submit" value="Process" />
    </form>

    <div id="results">
      <p><img src="" id="img" alt="from phone" /></p>
    </div>

    <!-- <div id="my_camera" onclick="take_snapshot();"></div> -->

    <script>
      document.addEventListener("DOMContentLoaded", (ev) => {
        let form = document.getElementById("myform");
        let input = document.getElementById("capture");

        input.addEventListener("change", (ev) => {
          console.dir(input.files[0]);

          if (input.files[0].type.indexOf("image/") > -1) {
            let img = document.getElementById("img");
            img.src = window.URL.createObjectURL(input.files[0]);
            console.log(img.src);
          } else {
            consol.log("File not supported");
          }
        });
      });
    </script>

  
  </body>
</html>
